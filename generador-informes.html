<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistema de Puntos - Minecraft</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
--bg-main: #1e1e2f;
--bg-section: #2a2a40;
--bg-output: #181820;
--text-primary: #ffffff;
--text-secondary: #bbbbbb;
--accent-color: #4caf50;
--accent-hover: #43a047;
--border-color: #44445a;
--shadow: rgba(0, 0, 0, 0.3);
--card-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
--input-bg: #39395b;
}

.light-theme {
--bg-main: #f0f2f5;
--bg-section: #ffffff;
--bg-output: #f8f9fa;
--text-primary: #333333;
--text-secondary: #666666;
--accent-color: #7289da;
--accent-hover: #677bc4;
--border-color: #dddddd;
--shadow: rgba(0, 0, 0, 0.1);
--input-bg: #f8f9fa;
}

* {
margin: 0;
padding: 0;
box-sizing: border-box;
transition: background-color 0.3s, color 0.3s;
}

body {
background: linear-gradient(135deg, var(--bg-main), #12121a);
color: var(--text-primary);
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
display: flex;
flex-direction: column;
align-items: center;
padding: 20px;
min-height: 100vh;
line-height: 1.6;
}

.container {
max-width: 1000px;
width: 100%;
margin: 0 auto;
}

header {
width: 100%;
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 25px;
padding: 15px;
background: var(--bg-section);
border-radius: 16px;
box-shadow: var(--card-shadow);
}

.theme-toggle {
background: linear-gradient(145deg, var(--accent-color), var(--accent-hover));
border: none;
border-radius: 20px;
padding: 10px 20px;
display: flex;
align-items: center;
cursor: pointer;
font-size: 1rem;
gap: 8px;
box-shadow: 0 4px 8px var(--shadow);
color: white;
font-weight: 600;
}

h1 {
font-size: 2.5rem;
margin: 10px 0;
text-align: center;
background: linear-gradient(90deg, var(--accent-color), var(--accent-hover));
-webkit-background-clip: text;
background-clip: text;
color: transparent;
text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
letter-spacing: 1px;
}

.content-wrapper {
display: flex;
gap: 20px;
width: 100%;
}

.form-section {
flex: 1;
background: var(--bg-section);
border-radius: 16px;
padding: 25px;
box-shadow: var(--card-shadow);
border: 1px solid var(--border-color);
}

.players-section {
flex: 1;
background: var(--bg-section);
border-radius: 16px;
padding: 25px;
box-shadow: var(--card-shadow);
border: 1px solid var(--border-color);
max-height: 80vh;
overflow-y: auto;
margin-top: 20px;
}

.points-section {
width: 300px;
background: var(--bg-section);
border-radius: 16px;
padding: 25px;
box-shadow: var(--card-shadow);
border: 1px solid var(--border-color);
max-height: 80vh;
overflow-y: auto;
}

.points-section::-webkit-scrollbar,
.players-section::-webkit-scrollbar {
width: 8px;
}

.points-section::-webkit-scrollbar-track,
.players-section::-webkit-scrollbar-track {
background: var(--bg-section);
}

.points-section::-webkit-scrollbar-thumb,
.players-section::-webkit-scrollbar-thumb {
background: var(--accent-color);
border-radius: 4px;
}

h2 {
font-size: 1.8rem;
margin-bottom: 20px;
color: var(--accent-color);
display: flex;
align-items: center;
gap: 10px;
}

h2 i {
color: var(--accent-color);
}

.form-group {
margin-bottom: 20px;
}

label {
display: block;
margin-bottom: 8px;
font-weight: 600;
color: var(--text-primary);
display: flex;
align-items: center;
gap: 10px;
}

input, select, textarea {
padding: 12px 15px;
border: 1px solid var(--border-color);
border-radius: 12px;
font-size: 1rem;
width: 100%;
background: var(--input-bg);
color: var(--text-primary);
outline: none;
}

input:focus, select:focus, textarea:focus {
border-color: var(--accent-color);
box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.3);
}

.btn-group {
display: flex;
gap: 15px;
margin-top: 25px;
}

button {
padding: 12px 20px;
border: none;
border-radius: 12px;
background: linear-gradient(145deg, var(--accent-color), var(--accent-hover));
color: white;
font-size: 1rem;
font-weight: 600;
cursor: pointer;
box-shadow: 0 4px 8px var(--shadow);
display: flex;
align-items: center;
justify-content: center;
gap: 8px;
transition: all 0.2s;
}

button:hover {
transform: translateY(-2px);
box-shadow: 0 6px 12px var(--shadow);
}

button:active {
transform: translateY(0);
}

.point-category {
font-weight: bold;
color: var(--accent-color);
margin: 20px 0 10px;
padding-bottom: 5px;
border-bottom: 1px solid var(--border-color);
display: flex;
align-items: center;
gap: 10px;
}

.point-item {
background: var(--bg-main);
border-radius: 10px;
padding: 12px;
margin-bottom: 10px;
border-left: 3px solid var(--accent-color);
}

.point-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 5px;
}

.point-title {
font-weight: 600;
}

.point-value {
background: var(--accent-color);
color: white;
padding: 3px 10px;
border-radius: 20px;
font-weight: bold;
font-size: 0.9rem;
}

.point-description {
color: var(--text-secondary);
font-size: 0.9rem;
}

.player-item {
background: var(--bg-main);
border-radius: 10px;
padding: 15px;
margin-bottom: 15px;
border-left: 3px solid var(--accent-color);
display: flex;
justify-content: space-between;
align-items: center;
}

.player-name {
font-weight: 600;
font-size: 1.1rem;
}

.player-actions {
display: flex;
gap: 10px;
}

.player-action-btn {
padding: 8px 12px;
font-size: 0.9rem;
}

footer {
margin-top: auto;
text-align: center;
padding: 25px 10px 15px;
color: var(--text-secondary);
font-size: 1rem;
width: 100%;
border-top: 1px solid var(--border-color);
margin-top: 30px;
}

.modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0, 0, 0, 0.7);
z-index: 1000;
justify-content: center;
align-items: center;
}

.modal-content {
background: var(--bg-section);
padding: 30px;
border-radius: 16px;
width: 90%;
max-width: 500px;
box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
}

.modal-title {
font-size: 1.5rem;
margin-bottom: 20px;
color: var(--accent-color);
}

.modal-close {
position: absolute;
top: 15px;
right: 15px;
font-size: 1.5rem;
cursor: pointer;
}

/* Efecto de bolitas conectadas */
.particles {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
z-index: -1;
pointer-events: none;
}

.particle {
position: absolute;
width: 6px;
height: 6px;
background-color: var(--accent-color);
border-radius: 50%;
opacity: 0.5;
}

.particle-line {
position: absolute;
background-color: var(--accent-color);
opacity: 0.2;
transform-origin: 0 0;
}

@media (max-width: 768px) {
.content-wrapper {
flex-direction: column;
}

.points-section, .players-section {
width: 100%;
max-height: 300px;
}
}
</style>
</head>

<body>
<!-- Efecto de bolitas conectadas -->
<div class="particles" id="particles"></div>

<div class="container">
<header>
<div style="display: flex; gap: 10px; align-items: center;">
<button class="theme-toggle" id="themeToggle" style="padding: 8px 15px; font-size: 0.9rem;">
<i class="fas fa-moon"></i>
<span>Modo Oscuro</span>
</button>
<button class="theme-toggle" onclick="window.location.href='index.html'" style="padding: 8px 15px; font-size: 0.9rem; background: var(--bg-section); border: 1px solid var(--border-color);">
<i class="fas fa-home"></i>
<span>Página Principal</span>
</button>
</div>
</header>

<h1>Sistema de Puntos - Minecraft</h1>

<div class="content-wrapper">
<div class="form-section">
<h2><i class="fas fa-file-alt"></i> Informes</h2>
<div class="form-group">
<label><i class="fas fa-calendar-day"></i> Fecha:</label>
<input type="date" id="fechaInput">
</div>
<div class="form-group">
<label><i class="fas fa-user"></i> Jugador:</label>
<input type="text" id="jugadorInput" placeholder="">
</div>
<div class="form-group">
<label><i class="fas fa-list"></i> Motivo:</label>
<input type="text" id="motivoInput" placeholder="">
</div>
<div class="form-group">
<label><i class="fas fa-star"></i> Puntos Sumados:</label>
<input type="number" id="puntosInput" placeholder="">
</div>
<div class="form-group">
<label><i class="fas fa-comment"></i> Nota Adicional:</label>
<textarea id="notasTextarea" rows="3"></textarea>
</div>
<button id="addBtn">
<i class="fas fa-plus"></i>
Añadir
</button>
</div>

<div class="points-section">
<div class="point-category">
<i class="fas fa-tools"></i> Minecraft Técnico
</div>
<div class="point-item">
<div class="point-header">
<div class="point-title">Granja funcional optimizada</div>
<div class="point-value">+5 PM</div>
</div>
<div class="point-description">Diseño y construcción de granja eficiente</div>
</div>
<div class="point-item">
<div class="point-header">
<div class="point-title">Compartir blueprint/tutorial</div>
<div class="point-value">+3 PM</div>
</div>
</div>
<div class="point-item">
<div class="point-header">
<div class="point-title">Mejorar granja existente</div>
<div class="point-value">+4 PM</div>
</div>
</div>
<div class="point-item">
<div class="point-header">
<div class="point-title">Sistema almacenamiento</div>
<div class="point-value">+4 PM</div>
</div>
</div>
<div class="point-category">
<i class="fas fa-bricks"></i> Construcción
</div>
<div class="point-item">
<div class="point-header">
<div class="point-title">Construcción comunitaria</div>
<div class="point-value">+3 PM</div>
</div>
</div>
<div class="point-item">
<div class="point-header">
<div class="point-title">Proyecto decorativo útil</div>
<div class="point-value">+2 PM</div>
</div>
</div>
<div class="point-item">
<div class="point-header">
<div class="point-title">Mejorar zona técnica</div>
<div class="point-value">+2 PM</div>
</div>
</div>
<div class="point-category">
<i class="fas fa-users"></i> Comunidad
</div>
<div class="point-item">
<div class="point-header">
<div class="point-title">Ayudar a otro jugador</div>
<div class="point-value">+2 PM</div>
</div>
</div>
<div class="point-item">
<div class="point-header">
<div class="point-title">Participar en eventos</div>
<div class="point-value">+2 PM</div>
</div>
</div>
<div class="point-item">
<div class="point-header">
<div class="point-title">Liderar proyecto</div>
<div class="point-value">+3 PM</div>
</div>
</div>
<div class="point-item">
<div class="point-header">
<div class="point-title">Subir avances</div>
<div class="point-value">+1 PM</div>
</div>
</div>
<div class="point-category">
<i class="fas fa-medal"></i> Reconocimiento
</div>
<div class="point-item">
<div class="point-header">
<div class="point-title">Reportar comportamiento</div>
<div class="point-value">+3 PM</div>
</div>
</div>
<div class="point-item">
<div class="point-header">
<div class="point-title">Organizar evento</div>
<div class="point-value">+4 PM</div>
</div>
</div>
</div>
</div>

<div class="players-section">
<h2><i class="fas fa-users"></i> TODOS LOS JUGADORES</h2>
<div id="playersList">
<!-- Aquí se cargarán dinámicamente los jugadores -->
</div>
</div>

<!-- Modal de autenticación -->
<div id="authModal" class="modal">
<div class="modal-content">
<span class="modal-close">&times;</span>
<h3 class="modal-title"><i class="fas fa-lock"></i> Autenticación Requerida</h3>
<div class="form-group">
<label><i class="fas fa-user"></i> Usuario:</label>
<input type="text" id="usernameInput" placeholder="Ingrese su usuario">
</div>
<div class="form-group">
<label><i class="fas fa-key"></i> Contraseña:</label>
<input type="password" id="passwordInput" placeholder="Ingrese su contraseña">
</div>
<button id="loginBtn">
<i class="fas fa-sign-in-alt"></i>
Ingresar
</button>
<p id="loginError" style="color: #ff6b6b; margin-top: 10px; display: none;">Usuario o contraseña incorrectos</p>
</div>
</div>

<!-- Modal de edición -->
<div id="editModal" class="modal">
<div class="modal-content">
<span class="modal-close">&times;</span>
<h3 class="modal-title"><i class="fas fa-edit"></i> Editar Informe</h3>
<input type="hidden" id="editFilename">
<div class="form-group">
<label><i class="fas fa-calendar-day"></i> Fecha:</label>
<input type="date" id="editFechaInput">
</div>
<div class="form-group">
<label><i class="fas fa-user"></i> Jugador:</label>
<input type="text" id="editJugadorInput" placeholder="">
</div>
<div class="form-group">
<label><i class="fas fa-list"></i> Motivo:</label>
<input type="text" id="editMotivoInput" placeholder="">
</div>
<div class="form-group">
<label><i class="fas fa-star"></i> Puntos Sumados:</label>
<input type="number" id="editPuntosInput" placeholder="">
</div>
<div class="form-group">
<label><i class="fas fa-comment"></i> Nota Adicional:</label>
<textarea id="editNotasTextarea" rows="3"></textarea>
</div>
<button id="saveEditBtn">
<i class="fas fa-save"></i>
Guardar Cambios
</button>
</div>
</div>

<footer>
© 2025 Sistema de Puntos - Minecraft
</footer>
</div>

<script>
// Cambiar tema claro/oscuro
const themeToggle = document.getElementById('themeToggle');
themeToggle.addEventListener('click', () => {
document.body.classList.toggle('light-theme');
if (document.body.classList.contains('light-theme')) {
themeToggle.innerHTML = '<i class="fas fa-sun"></i><span>Modo Claro</span>';
} else {
themeToggle.innerHTML = '<i class="fas fa-moon"></i><span>Modo Oscuro</span>';
}
});

// Efecto de bolitas conectadas
const particlesContainer = document.getElementById('particles');
const particles = [];
const particleLines = [];
const maxDistance = 150;

function createParticles() {
const particleCount = Math.floor(window.innerWidth / 20);
for (let i = 0; i < particleCount; i++) {
const particle = document.createElement('div');
particle.className = 'particle';
particle.x = Math.random() * window.innerWidth;
particle.y = Math.random() * window.innerHeight;
particle.vx = Math.random() * 2 - 1;
particle.vy = Math.random() * 2 - 1;
particle.style.left = `${particle.x}px`;
particle.style.top = `${particle.y}px`;
particlesContainer.appendChild(particle);
particles.push(particle);
}
animateParticles();
}

function animateParticles() {
particles.forEach(particle => {
// Mover partícula
particle.x += particle.vx * 0.5;
particle.y += particle.vy * 0.5;
// Rebotar en los bordes
if (particle.x < 0 || particle.x > window.innerWidth) particle.vx *= -1;
if (particle.y < 0 || particle.y > window.innerHeight) particle.vy *= -1;
particle.style.left = `${particle.x}px`;
particle.style.top = `${particle.y}px`;
});

// Conectar partículas cercanas
connectParticles();
requestAnimationFrame(animateParticles);
}

function connectParticles() {
// Limpiar líneas anteriores
particleLines.forEach(line => line.remove());
particleLines.length = 0;

// Crear nuevas conexiones
for (let i = 0; i < particles.length; i++) {
for (let j = i + 1; j < particles.length; j++) {
const dx = particles[i].x - particles[j].x;
const dy = particles[i].y - particles[j].y;
const distance = Math.sqrt(dx * dx + dy * dy);
if (distance < maxDistance) {
const line = document.createElement('div');
line.className = 'particle-line';
const angle = Math.atan2(dy, dx);
const width = distance;
line.style.width = `${width}px`;
line.style.height = '1px';
line.style.left = `${particles[i].x}px`;
line.style.top = `${particles[i].y}px`;
line.style.transform = `rotate(${angle}rad)`;
particlesContainer.appendChild(line);
particleLines.push(line);
}
}
}
}

// Variables globales
let isAuthenticated = false;
const authModal = document.getElementById('authModal');
const editModal = document.getElementById('editModal');

// Mostrar/ocultar modales
document.querySelectorAll('.modal-close').forEach(closeBtn => {
closeBtn.addEventListener('click', () => {
authModal.style.display = 'none';
editModal.style.display = 'none';
});
});

window.addEventListener('click', (e) => {
if (e.target === authModal) authModal.style.display = 'none';
if (e.target === editModal) editModal.style.display = 'none';
});

// Autenticación
document.getElementById('loginBtn').addEventListener('click', () => {
const username = document.getElementById('usernameInput').value;
const password = document.getElementById('passwordInput').value;

if (username === 'admin' && password === 'administradores') {
isAuthenticated = true;
authModal.style.display = 'none';
} else {
document.getElementById('loginError').style.display = 'block';
}
});

// Función para simular guardar en GitHub (en un entorno real usarías la API de GitHub)
function saveToGitHub(filename, content) {
// En un entorno real, aquí harías una llamada a la API de GitHub
// Para este ejemplo, simulamos el guardado en localStorage
const reports = JSON.parse(localStorage.getItem('informes') || '{}');
reports[filename] = content;
localStorage.setItem('informes', JSON.stringify(reports));
return true;
}

// Función para cargar los informes (simulando lectura de GitHub)
function loadReports() {
const reports = JSON.parse(localStorage.getItem('informes') || '{}');
const playersList = document.getElementById('playersList');
playersList.innerHTML = '';

if (Object.keys(reports).length === 0) {
playersList.innerHTML = '<p>No hay informes guardados aún.</p>';
return;
}

for (const [filename, content] of Object.entries(reports)) {
const playerDiv = document.createElement('div');
playerDiv.className = 'player-item';

const playerName = document.createElement('div');
playerName.className = 'player-name';
playerName.textContent = filename.replace('.txt', '');

const playerActions = document.createElement('div');
playerActions.className = 'player-actions';

const editBtn = document.createElement('button');
editBtn.className = 'player-action-btn';
editBtn.innerHTML = '<i class="fas fa-edit"></i> Editar';
editBtn.onclick = () => openEditModal(filename, content);

const deleteBtn = document.createElement('button');
deleteBtn.className = 'player-action-btn';
deleteBtn.innerHTML = '<i class="fas fa-trash"></i> Eliminar';
deleteBtn.onclick = () => deleteReport(filename);

playerActions.appendChild(editBtn);
playerActions.appendChild(deleteBtn);
playerDiv.appendChild(playerName);
playerDiv.appendChild(playerActions);
playersList.appendChild(playerDiv);
}
}

// Función para eliminar un informe
function deleteReport(filename) {
if (!isAuthenticated) {
authModal.style.display = 'flex';
return;
}

if (confirm(`¿Estás seguro de que quieres eliminar el informe de ${filename.replace('.txt', '')}?`)) {
const reports = JSON.parse(localStorage.getItem('informes') || '{}');
delete reports[filename];
localStorage.setItem('informes', JSON.stringify(reports));
loadReports();
}
}

// Función para abrir el modal de edición
function openEditModal(filename, content) {
if (!isAuthenticated) {
authModal.style.display = 'flex';
return;
}

// Parsear el contenido del informe (simplificado para este ejemplo)
const lines = content.split('\n');
const fecha = lines[1].replace('Fecha: ', '').trim();
const jugador = lines[2].replace('Jugador: ', '').trim();
const motivo = lines[3].replace('Motivo: ', '').trim();
const puntos = lines[4].replace('Puntos: ', '').trim();
const notas = lines.length > 5 ? lines[5].replace('Notas: ', '').trim() : '';

document.getElementById('editFilename').value = filename;
document.getElementById('editFechaInput').value = fecha;
document.getElementById('editJugadorInput').value = jugador;
document.getElementById('editMotivoInput').value = motivo;
document.getElementById('editPuntosInput').value = puntos;
document.getElementById('editNotasTextarea').value = notas;

editModal.style.display = 'flex';
}

// Guardar cambios en edición
document.getElementById('saveEditBtn').addEventListener('click', () => {
const oldFilename = document.getElementById('editFilename').value;
const fecha = document.getElementById('editFechaInput').value;
const jugador = document.getElementById('editJugadorInput').value;
const motivo = document.getElementById('editMotivoInput').value;
const puntos = document.getElementById('editPuntosInput').value;
const notas = document.getElementById('editNotasTextarea').value;

const newFilename = `${jugador}.txt`;
const content = `Informe de Puntos - Minecraft\n\n` +
`Fecha: ${fecha}\n` +
`Jugador: ${jugador}\n` +
`Motivo: ${motivo}\n` +
`Puntos: ${puntos}\n` +
`Notas: ${notas}`;

// Eliminar el archivo antiguo si el nombre cambió
if (oldFilename !== newFilename) {
const reports = JSON.parse(localStorage.getItem('informes') || '{}');
delete reports[oldFilename];
localStorage.setItem('informes', JSON.stringify(reports));
}

// Guardar el nuevo
saveToGitHub(newFilename, content);
loadReports();
editModal.style.display = 'none';
});

// Añadir nuevo informe
document.getElementById('addBtn').addEventListener('click', () => {
if (!isAuthenticated) {
authModal.style.display = 'flex';
return;
}

const fecha = document.getElementById('fechaInput').value;
const jugador = document.getElementById('jugadorInput').value;
const motivo = document.getElementById('motivoInput').value;
const puntos = document.getElementById('puntosInput').value;
const notas = document.getElementById('notasTextarea').value;

if (!jugador || !motivo || !puntos) {
alert('Por favor complete todos los campos obligatorios');
return;
}

const filename = `${jugador}.txt`;
const content = `Informe de Puntos - Minecraft\n\n` +
`Fecha: ${fecha}\n` +
`Jugador: ${jugador}\n` +
`Motivo: ${motivo}\n` +
`Puntos: ${puntos}\n` +
`Notas: ${notas}`;

if (saveToGitHub(filename, content)) {
alert('Informe guardado correctamente');
// Limpiar formulario
document.getElementById('jugadorInput').value = '';
document.getElementById('motivoInput').value = '';
document.getElementById('puntosInput').value = '';
document.getElementById('notasTextarea').value = '';
// Recargar lista
loadReports();
} else {
alert('Error al guardar el informe');
}
});

// Inicializar
document.addEventListener('DOMContentLoaded', () => {
// Establecer fecha actual
const today = new Date().toISOString().split('T')[0];
document.getElementById('fechaInput').value = today;

// Crear efecto de partículas
createParticles();

// Redimensionar partículas al cambiar tamaño de ventana
window.addEventListener('resize', () => {
particles.forEach(p => p.remove());
particles.length = 0;
createParticles();
});

// Cargar informes existentes
loadReports();
});
</script>
</body>
</html>